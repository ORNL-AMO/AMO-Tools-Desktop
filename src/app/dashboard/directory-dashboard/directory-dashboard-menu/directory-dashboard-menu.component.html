<div class="d-flex no-gutters p-1 w-100">
    <div class="d-flex flex-fill">
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item disabled"><span class="fa fa-folder"></span></li>
                <li class="breadcrumb-item" *ngFor="let directory of breadCrumbs; let first = first;">
                    <a *ngIf="first" [routerLink]="['/directory-dashboard', directory.id]">All Assessments</a>
                    <a *ngIf="!first" [routerLink]="['/directory-dashboard', directory.id]">{{directory.name}}</a>
                </li>
                <li class="breadcrumb-item active">{{directory.name}}</li>
            </ol>
        </nav>
    </div>
    <div class="pl-2">
        <app-content-controls></app-content-controls>
    </div>
</div>
<hr class="my-1">
<div class="d-flex no-gutters">
    <div class="col-12">
        <div class="actions d-flex align-items-center">
            <div class="d-flex flex-wrap">
                <button class="btn btn-secondary action-btn" (click)="showCreateAssessment()" type="button">Add
                    Assessment</button>
                <button class="btn btn-secondary action-btn" (click)="showPreAssessment()" type="button">Add
                    Pre-Assessment</button>
                <button class="btn btn-secondary action-btn" (click)="showCreateFolder()" type="button">Add
                    Folder</button>
                <button class="btn btn-secondary action-btn" (click)="showAddInventory()" type="button">
                    Add Inventory
                </button>
                <button class="btn btn-secondary action-btn" [disabled]="!checkReport()" type="button"
                    (click)="moveToFolder()">Move</button>
                <!-- <app-create-folder [(directory)]="directory" (newDirectory)="emitNewDir()"></app-create-folder> -->
                <button class="btn btn-secondary action-btn" [disabled]="!checkReport()" type="button"
                    (click)="generateReport()">Generate Report</button>
                <button class="btn btn-secondary action-btn" [disabled]="!checkSelected()" type="button"
                    (click)="showDeleteItemsModal()">Delete</button>
                <button class="btn btn-secondary action-btn" [disabled]="!checkSelected()" type="button"
                    (click)="showExportModal()">Export</button>
                <button class="btn btn-secondary action-btn" type="button" (click)="showImportModal()">Import</button>
            </div>
            <label class="ml-auto select-all">
                <input type="checkbox" [(ngModel)]="isAllSelected" (change)="toggleSelectAll()" />
                <a>Select all folder content</a>
            </label>
        </div>
    </div>
</div>

<!--move modal-->
<div bsModal #moveModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="moveModalLabel"
    aria-hidden="true" [config]="{backdrop: 'static'}">
    <div class="modal-dialog modal-md">
        <div class="modal-content" *ngIf="moveForm">
            <div class="modal-header">
                Selected Assessment(s) to Move
                <button class="close" (click)="hideMoveModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div *ngFor="let assessment of directory.assessments">
                    <span *ngIf="assessment.selected">
                        {{assessment.name}} <br>
                    </span>            
                </div>
                <form [formGroup]="moveForm">
                    <div class="form-group" *ngIf="allDirectories">
                        <label>Move Assessment(s) to Different Folder</label>
                        <select  class="form-control w-100" formControlName="directoryId">
                            <option *ngFor="let dir of allDirectories" [ngValue]="dir.id">
                                <span *ngIf="dir.parentDirectoryId">{{getParentDirStr(dir.parentDirectoryId)}}</span>
                                <span class="bold">{{dir.name}}/</span>
                            </option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" (click)="save()">Save</button>
            </div>
        </div>
    </div>
</div>