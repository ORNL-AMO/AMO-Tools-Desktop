<!-- LARGE VIEWPORT TABS -->
<!--  todo optimization/cleanup - tab links have redundant li and divs which should be removed. Both wrapping element and a tag need to have routerlink directives and attributes to satisfy MEASUR legacy styling -->
  <!-- todo this component needs to track validity of all sub-forms and only enable next when all are valid -->

<ul class="tabs subtabs progress-tabs process-cooling-assessment d-none d-lg-block">
    @for (link of SYSTEM_INFORMATION_VIEW_LINKS; track $index) {
        @let isActive = (setupSubView() == link.view);
        @let isDisabled = isLinkDisabled(link);
        @let isInvalid = isTabInvalid(link);

        <li [class.active]="isActive" [class.disabled]="isDisabled">
            <a [class.disabled]="isDisabled"
                (click)="handleSystemInformationNavigation($event, link)">
                @if (!isDisabled && isInvalid) {
                    <span class="fa fa-exclamation-circle ml-2 mr-1"></span>
                }
                <span class="px-2">{{link.label}}</span>
            </a>
        </li>
    }
</ul>

<!--  SMALL SCREEN TABS -->
<nav class="hide-print d-flex d-lg-none tabs subtabs progress-tabs process-cooling-assessment flex-wrap flex-fill">
    <ul
        class="pagination d-flex justify-content-between tabs subtabs progress-tabs flex-fill process-cooling-assessment">
        <li class="page-item">
            <a class="nav-link small" (click)="back()">
                <span class="fa fa-chevron-left"></span></a>
        </li>
        @for (link of SYSTEM_INFORMATION_VIEW_LINKS; track $index) {
            @let isActive = (setupSubView() == link.view);
            @let isDisabled = isLinkDisabled(link);
            @let isInvalid = isTabInvalid(link);

            <li [class.active]="isActive" [class.disabled]="isDisabled">
                <a [class.disabled]="isDisabled"
                    (click)="handleSystemInformationNavigation($event, link)">
                    @if (!isDisabled && isInvalid) {
                    <span class="fa fa-exclamation-circle ml-2 mr-1"></span>
                    }
                    <span class="px-2">{{link.label}}</span>
                </a>
            </li>
        }
        <li class="page-item">
            <a class="nav-link small" (click)="next()">
                <span class="fa fa-chevron-right"></span></a>
        </li>
    </ul>
</nav>

<div class="d-flex flex-column panel-container">
    <router-outlet></router-outlet>
</div>