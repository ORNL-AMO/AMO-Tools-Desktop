<div #content class="skyline" *ngIf="selectedCalc == 'none'">
  <div class="d-flex flex-wrap justify-content-center">

    <div class="card m-2">
      <div class="card-header d-lg-none">
        <div class="d-block pull-right" (click)="collapseInfoCard()">
          <span *ngIf="!infoCardCollapsed" class="fa fa-chevron-up"></span>
          <span *ngIf="infoCardCollapsed" class="fa fa-chevron-down"></span>
        </div>
      </div>
      <div class="card-body d-block d-lg-flex p-2 justify-content-center align-items-center">
        <div class="p-2 pr-4" [ngClass]="{'collapse': infoCardCollapsed}">
          <img src="assets/images/treasure-map.png" class="map-img-container">
        </div>
        <div class="d-flex flex-column calculator-list">
          <h1 class="p-2 lead text-center mb-0" [ngClass]="{'collapse': infoCardCollapsed}">
            Find ways to save your hard earned treasure!
          </h1>
          <ul class="help-text text-center mb-0" [ngClass]="{'collapse': infoCardCollapsed}">
            <li>
              Use one of the following calculators to determine savings opportunities within your manufacturing
              facility.
            </li>
            <li>
              Once an opportunity has been found, save the opportunity to your "Treasure Chest".
            </li>
            <li>
              Add more details to each opportunity by clicking the <img
                src="assets/images/calculator-icons/opportunity-sheet-icon.png" class="opp-sheet-icon-sm">
              icon and filling out an opportunity sheet. </li>
            <li>
              Click the "Treasure Chest" tab to view a summary of your found treasure. </li>
          </ul>
          <div class="form-group">
            <label for="utilityType">Filter Calculators by Utility Type</label>
            <select id="utilityType" class="form-control" [(ngModel)]="displayCalculatorType" (change)="applyFilters()">
                <option [ngValue]="'All'">All</option>
                <option [ngValue]="'Electricity'" *ngIf="treasureHunt.currentEnergyUsage.electricityUsed">Electricity
                </option>
                <option [ngValue]="'Natural Gas'" *ngIf="treasureHunt.currentEnergyUsage.naturalGasUsed">Natural Gas
                </option>
                <option [ngValue]="'Other Fuel'" *ngIf="treasureHunt.currentEnergyUsage.otherFuelUsed">Other Fuel</option>
                <option [ngValue]="'Water'" *ngIf="treasureHunt.currentEnergyUsage.waterUsed">Water</option>
                <option [ngValue]="'Waste Water'" *ngIf="treasureHunt.currentEnergyUsage.wasteWaterUsed">Wastewater
                </option>
                <option [ngValue]="'Compressed Air'" *ngIf="treasureHunt.currentEnergyUsage.compressedAirUsed">Compressed
                  Air</option>
                <option [ngValue]="'Steam'" *ngIf="treasureHunt.currentEnergyUsage.steamUsed">Steam</option>
              </select>
              <ng-container *ngIf="false"></ng-container>
          </div>

           <div class="form-group">
            <label for="moduleType">Filter Calculators by Module Type</label>
              <select id="moduleType" class="form-control" [(ngModel)]="displayModuleType" (change)="applyFilters()">
                <option [ngValue]="'All'">All</option>
                <option *ngFor="let type of uniqueModuleTypes" [ngValue]="type" [hidden]="!type">{{ type | titlecase }}</option>
                <option [ngValue]="null">Other/None</option>
              </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex flex-wrap justify-content-center">
    <ng-container *ngFor="let card of filteredOpportunityCardList">
      <div class="card calc-card-item m-2" (click)="openCalculator(card.opportunityType)">
        <div class="card-body d-flex flex-sm-column p-2 align-items-center">
          <div [ngClass]="card.iconClass + ' d-flex justify-content-center align-items-center'">
            <img [src]="card.iconString" [ngClass]="card.imageSizeClass">
          </div>
          <a class="pt-2 text-center">{{ card.name }}</a>
          <p class="mb-0 text-center help-text d-none d-sm-flex">
            {{ card.description }}
          </p>
        </div>
      </div>
    </ng-container>
  </div>
</div>

<app-calculators *ngIf="selectedCalc != 'none'" [settings]="settings"></app-calculators>