<div class="d-flex flex-column panel-container">
    <!--  if we don't add this to sankey, it can be part of end uses form -->
    <app-day-type-setup-form></app-day-type-setup-form>
    <div class="header mr-2 ml-2">
        <h3>End Use</h3>
        <br>
    </div>
    <div class="p-3 no-data" *ngIf="!hasEndUses">
        <h3>Add End Use</h3>
        <button type="button" class="btn btn-primary active" (click)="addEndUse()">+Add End Use</button>
    </div>
    <div class="mr-2 ml-2" *ngIf="hasEndUses">
        <form [formGroup]="form">
            <div class="form-group">
                <label for="name">End Use Name</label>
                <input type="text" class="form-control" name="endUseName" formControlName="endUseName"
                    (focus)="focusField('endUseName')" (input)="save()" />
            </div>

            <div class="form-group">
                <label>Description</label>
                <textarea class="form-control" type="text" id="endUseDescription" formControlName="endUseDescription"
                    (focus)="focusField('endUseDescription')" (input)="save()"></textarea>
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <div class="input-group">
                    <input name="location" type="text" step="any" class="form-control" id="location"
                        formControlName="location" (input)="save()" (focus)="focusField('location')">
                </div>
            </div>

            <div class="form-group">
                <label for="requiredPressure">Required Pressure</label>
                <div class="input-group">
                    <input name="requiredPressure" type="number" step="any" class="form-control" id="requiredPressure"
                        formControlName="requiredPressure" (input)="updateDayTypeEndUsePressure()" (focus)="focusField('requiredPressure')">
                    <span *ngIf="settings.unitsOfMeasure == 'Imperial'" class="units input-group-addon">psig</span>
                    <span *ngIf="settings.unitsOfMeasure == 'Metric'" class="units input-group-addon">barg</span>
                </div>
            </div>

        </form>

        <div>
            <label class="group-label sub-form-label">{{selectedDayType.name}} End Use Data</label>
            <app-day-type-use-form></app-day-type-use-form>
        </div>

        <!-- <div>
            <label class="group-label sub-form-label d-inline">{{selectedDayType.name}} End Use Data</label>
            <app-day-type-use-form></app-day-type-use-form>
        </div> -->

    </div>
</div>