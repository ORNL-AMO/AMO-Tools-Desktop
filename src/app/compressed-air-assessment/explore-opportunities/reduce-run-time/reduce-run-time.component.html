<div class="checkbox">
    <label class="group-label" for="reduceRuntime">
        <!-- <input type="checkbox" id="reduceRuntime" (focus)="focusField('reduceRuntime')" (change)="setReduceRunTime()"
            [(ngModel)]="reduceRuntime.selected" /> -->
        Reduce Run Time
        <select id="reduceRuntimeOrder" [(ngModel)]="reduceRuntime.order" class="form-control pull-right">
            <option [ngValue]=100>Off</option>
            <option [ngValue]=1>1</option>
            <option [ngValue]=2>2</option>
            <option [ngValue]=3>3</option>
            <option [ngValue]=4>4</option>
            <option [ngValue]=5>5</option>
            <option [ngValue]=6>6</option>
            <option [ngValue]=7>7</option>
        </select>
    </label>
</div>

<div *ngIf="reduceRuntime.order != 100" class="w-100 p-2 justify-content-center">
    <select class="form-control" id="selectedDayType" name="selectedDayType" [(ngModel)]="selectedDayTypeId"
        (change)="setAirflowData()">
        <option *ngFor="let dayType of dayTypeOptions" [ngValue]="dayType.dayTypeId">{{dayType.name}}</option>
    </select>
</div>

<div class="scroll-item" *ngIf="reduceRuntime.order != 100">
    <table class="table bg-white" *ngIf="selectedDayTypeId">
        <thead>
            <tr>
                <th>
                    Compressor
                </th>
                <th>
                    Aifrlow Capacity
                </th>
                <th class="text-center" *ngFor="let data of reduceRuntime.runtimeData[0].intervalData">
                    {{data.timeInterval}}
                </th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let rData of reduceRuntime.runtimeData | dayTypeFilter:selectedDayTypeId; let rDataIndex = index;">
                <td class="bold text-center">
                    {{rData.compressorId | compressorName:inventoryItems}}
                </td>
                <td class="text-center">
                    {{rData.fullLoadCapacity}} acfm
                </td>
                <td class="text-center" *ngFor="let data of rData.intervalData; let dataIndex = index;">
                    <input type="checkbox" id="{{'isCompressorOn_'+rDataIndex+dataIndex}}"
                        name="{{'isCompressorOn_'+rDataIndex+dataIndex}}" [(ngModel)]="data.isCompressorOn"
                        (change)="save()">
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td>
                    Available Airflow
                </td>
                <td>

                </td>
                <td *ngFor="let airflow of availableAirflow; let index = index"
                    [ngClass]="{'cell-error': (airflow - requiredAirflow[index]) < 0}">
                    {{airflow | number:'1.0-0'}}
                </td>
            </tr>
            <tr>
                <td>
                    Required Airflow
                </td>
                <td>

                </td>
                <td *ngFor="let airflow of requiredAirflow">
                    {{airflow| number:'1.0-0'}}
                </td>
            </tr>
        </tfoot>
    </table>
</div>
<div *ngIf="hasError && reduceRuntime.order != 100" class="alert alert-danger p-2 text-center">
    One of more hours have less available airflow then is required.
</div>