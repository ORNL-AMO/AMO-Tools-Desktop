<label class="group-label" (click)="toggleForm()">
    <span class="fa fa-chevron-down" *ngIf="displayForm"></span>
    <span class="fa fa-chevron-right" *ngIf="!displayForm"></span>
    Field Measurements
</label>
<form *ngIf="displayForm" class="p-1" #formElement [formGroup]="form">
    <div class="form-group" *ngIf="displayOptions.pumpSpeed">
        <label for="pumpSpeed">Pump Speed</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('pumpSpeed')" (input)="save()"
                formControlName="pumpSpeed" id="pumpSpeed">
            <span class="input-group-addon units">rpm</span>
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.yearlyOperatingHours">
        <label for="yearlyOperatingHours">Operating Hours</label>
        <div class="input-group">
          <span class="input-group-addon op-hour-addon units">
            <a class="click-link" (click)="openOperatingHoursModal()"><span class="fa fa-calculator"></span></a>
          </span>
          <input name="yearlyOperatingHours" type="number"
            class="form-control" formControlName="yearlyOperatingHours" id="{{'yearlyOperatingHours_'+idString}}" (input)="save()"
            (focus)="focusField('yearlyOperatingHours')" onfocus="this.select();">
          <span class="input-group-addon units">hrs/yr</span>
        </div>
        <span class="alert-danger pull-right small"
          *ngIf="form.controls.yearlyOperatingHours.invalid && !form.controls.yearlyOperatingHours.pristine">
          <span *ngIf="form.controls.yearlyOperatingHours.errors.required">Value Required</span>
          <span *ngIf="form.controls.yearlyOperatingHours.errors.max">Value can't be greater than
            {{form.controls.yearlyOperatingHours.errors.max.max}} hrs/yr.</span>
          <span *ngIf="form.controls.yearlyOperatingHours.errors.min">Value can't be less than
            {{form.controls.yearlyOperatingHours.errors.min.min}} hrs/yr.</span>
        </span>
    </div>

    <div class="form-group" *ngIf="displayOptions.staticSuctionHead">
        <label for="staticSuctionHead">Static Suction Head</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('staticSuctionHead')" (input)="save()"
                formControlName="staticSuctionHead" id="yearlyOperatingHours">
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure == 'Imperial'">ft</span>
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure != 'Imperial'">m</span>
        </div>

    </div>

    <div class="form-group" *ngIf="displayOptions.staticDischargeHead">
        <label for="staticDischargeHead">Static Discharge Head</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('staticDischargeHead')" (input)="save()"
                formControlName="staticDischargeHead" id="staticDischargeHead">
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure == 'Imperial'">ft</span>
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure != 'Imperial'">m</span>
        </div>

    </div>

    <div class="form-group" *ngIf="displayOptions.operatingFlowRate">
        <label for="operatingFlowRate">Operating Flow Rate</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('operatingFlowRate')" (input)="save()"
                formControlName="operatingFlowRate" id="operatingFlowRate">
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure == 'Imperial'">gpm</span>
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure != 'Imperial'">m<sup>3</sup>/hr</span>

        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.operatingHead">
        <label for="operatingHead">Operating Head</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('operatingHead')" (input)="save()"
                formControlName="operatingHead" id="yearlyOperatingHours">
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure == 'Imperial'">ft</span>
            <span class="input-group-addon units" *ngIf="settings.unitsOfMeasure != 'Imperial'">m</span>
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.measuredPower">
        <label for="measuredPower">Measured Power</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('measuredPower')" (input)="save()"
                formControlName="measuredPower" id="measuredPower">
            <span class="input-group-addon units">A</span>
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.measuredCurrent">
        <label for="measuredCurrent">Measured Current</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('measuredCurrent')" (input)="save()"
                formControlName="measuredCurrent" id="measuredCurrent">
                <span class="input-group-addon units">kW</span>
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.measuredVoltage">
        <label for="measuredVoltage">Measured Voltage</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('measuredVoltage')" (input)="save()"
                formControlName="measuredVoltage" id="measuredVoltage">
                <span class="input-group-addon units">V</span>
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.system">
        <label for="system">System</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('system')" (input)="save()"
                formControlName="system" id="system">
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.location">
        <label for="location">Location</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('location')" (input)="save()"
                formControlName="location" id="location">
        </div>
    </div>

    <div class="form-group" *ngIf="displayOptions.efficiency">
        <label for="efficiency">Efficiency</label>
        <div class="input-group">
            <input type="number" class="form-control" (focus)="focusField('efficiency')" (input)="save()"
                formControlName="efficiency" id="efficiency">
            <span class="input-group-addon units" >%</span>
        </div>
    </div>

   
</form>

<app-operating-hours-modal *ngIf="showOperatingHoursModal" (emitClose)="closeOperatingHoursModal()"
(emitSave)="updateOperatingHours($event)" [width]="formWidth" [showMinutesSeconds]="false"
[operatingHours]="operatingHours">
</app-operating-hours-modal>