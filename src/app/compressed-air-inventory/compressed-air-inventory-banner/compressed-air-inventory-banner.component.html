<nav class="compressed-air-inventory navbar banner d-flex mr-auto p-0 flex-nowrap">
    <div class="d-block d-lg-none mr-0 mr-2 pl-2 h-100">
        <div class="pr-2 border-right home-nav-item" [ngClass]="{'collapse': !bannerCollapsed}">
            <button type="button" class="btn chevron-btn p-0" (click)="back()" [disabled]="(mainTab == 'setup')">
                <span class="fa fa-chevron-left"></span>
            </button>
        </div>
    </div>
    <div class="d-lg-flex d-none align-items-center p-1">
        <div class="img-col col-sm-auto col-md-auto col-lg-auto pl-0">
            <img class="img-icon" src="assets/images/ca-icon.png">
        </div>
        <div class="d-flex flex-column pl-2">
            <div class="h2-name">
                {{compressedAirInventoryItem.name}}
            </div>
            <div class="h2-name">
                <span class="small">
                    Last modified: {{compressedAirInventoryItem.modifiedDate | date:'mediumDate'}}
                </span>
            </div>
        </div>
    </div>
    <div class="d-lg-none d-block align-items-center p-1">
        <div class="img-col col-sm-auto col-md-auto col-lg-auto pl-0" [ngClass]="{'collapse': bannerCollapsed}">
            <img class="img-icon" src="assets/images/ca-icon.png">
        </div>
        <div class="d-flex flex-column pl-2">
            <div class="h2-name">
                {{compressedAirInventoryItem.name}}
            </div>
            <div class="h2-name" [ngClass]="{'collapse': bannerCollapsed}">
                <span class="small">
                    Last modified: {{compressedAirInventoryItem.modifiedDate | date:'mediumDate'}}
                </span>
            </div>
        </div>
    </div>
    <div class="d-flex nav-pills nav-fill flex-wrap mx-auto d-none d-lg-inline-block">
        <div class="nav-item d-none d-lg-inline-block" (click)="setMainTab('setup')">
            <a class="nav-link" [ngClass]="{'active': mainTab == 'setup'}">Setup</a>
        </div>
        <div class="nav-item d-none d-lg-inline-block">
            <a class="nav-link" (click)="setMainTab('summary')"
                [ngClass]="{'active': mainTab == 'summary', 'disabled': !compressedAirInventoryData.isValid}">Summary</a>
        </div>
    </div>
    <div *ngIf="!bannerCollapsed" class="d-block d-lg-none nav-pills nav-fill flex-wrap mx-auto">
        <div class="nav-item" (click)="setMainTab('setup')">
            <a class="nav-link" [ngClass]="{'active': mainTab == 'setup'}">Setup</a>
        </div>
        <div class="nav-item">
            <a class="nav-link" (click)="setMainTab('summary')"
                [ngClass]="{'active': mainTab == 'summary', 'disabled': !compressedAirInventoryData.isValid}">Summary</a>
        </div>
    </div>


    <div class="d-flex ml-auto pr-2 h-100 d-none d-lg-inline-block">
        <div class="pl-2 pr-2 home-nav-item d-none d-lg-inline-block" (click)="emailTreasureHuntData()">
            <span class="fa fa-share-square-o"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-none d-lg-inline-block" (click)="showSecurityAndPrivacyModal()">
            <span class="fa fa-lock"></span>
        </div>
        <div class="pl-2 pr-2 download-nav-item home-nav-item d-none d-lg-inline-block" (click)="openExportModal()">
            <span class="fa fa-download"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-none d-lg-inline-block">
            <a class="user-manual" href="assets/user-manuals/Pump-Inventory-User-Manual.pdf" target="_blank">
                <span class="fa fa-book"></span>
            </a>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-none d-lg-inline-block" [routerLink]="['/settings']">
            <span class="fa fa-cog"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-none d-lg-inline-block"
            [routerLink]="['/directory-dashboard', compressedAirInventoryItem.directoryId]">
            <span class="fa fa-folder-open"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-none d-lg-inline-block" (click)="navigateHome()">
            <span class="fa fa-home"></span>
        </div>
    </div>

    <div class="d-block d-lg-none ml-2 mr-0 pr-1 h-100">
        <div class="pl-2 border-left home-nav-item" [ngClass]="{'collapse': !bannerCollapsed}">
            <button type="button" class="btn chevron-btn p-0" (click)="continue()" [disabled]="(mainTab == 'summary')">
                <span class="fa fa-chevron-right"></span>
            </button>
        </div>
    </div>

    <div *ngIf="bannerCollapsed" class="d-block d-lg-none ml-2 pr-2 h-100 flex-wrap">
        <div class="pl-2 border-left home-nav-item d-block" (click)="collapseBanner()">
            <span class="fa fa-bars"></span>
        </div>
    </div>

    <div *ngIf="!bannerCollapsed" class="d-block d-lg-none ml-auto pr-2 h-100">
        <div class="pl-2 pr-2 home-nav-item d-block" (click)="collapseBanner()">
            <span class="fa fa-bars"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-block" (click)="emailTreasureHuntData()">
            <span class="fa fa-share-square-o"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-block" (click)="showSecurityAndPrivacyModal()">
            <span class="fa fa-lock"></span>
        </div>
        <div class="pl-2 pr-2 download-nav-item home-nav-item d-block" (click)="openExportModal()">
            <span class="fa fa-download"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-block">
            <a class="user-manual" href="assets/user-manuals/Pump-Inventory-User-Manual.pdf" target="_blank">
                <span class="fa fa-book"></span>
            </a>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-block" [routerLink]="['/settings']">
            <span class="fa fa-cog"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-block"
            [routerLink]="['/directory-dashboard', compressedAirInventoryItem.directoryId]">
            <span class="fa fa-folder-open"></span>
        </div>
        <div class="pl-2 pr-2 home-nav-item d-block" (click)="navigateHome()">
            <span class="fa fa-home"></span>
        </div>
    </div>

</nav>

<nav class="hide-print" *ngIf="mainTab == 'setup'">
    <div class="d-lg-flex d-none tabs subtabs progress-tabs flex-wrap compressed-air-inventory">
        <div class="fixed-tab-size" [ngClass]="{'active': setupTab == 'plant-setup'}"
            (click)="setSetupTab('plant-setup')">
            <a><span class="step-number">1</span>Plant Setup</a>
        </div>
        <div class="fixed-tab-size" [ngClass]="{'active': setupTab == 'system-setup'}"
            (click)="setSetupTab('system-setup')">
            <a><span class="step-number">2</span>System Setup</a>
        </div>
        <div class="fixed-tab-size" [ngClass]="{'active': setupTab == 'compressor-properties'}"
            (click)="setSetupTab('compressor-properties')">
            <a><span class="step-number">3</span>Compressor Properties</a>
        </div>
        <!-- <div class="fixed-tab-size" [ngClass]="{'active': setupTab == 'compressed-air-catalog' && compressedAirInventoryData && compressedAirInventoryData.isValid}"
            (click)="setSetupTab('compressed-air-catalog')">
            <a><span class="step-number" [ngClass]="{'missing-data-tab': compressedAirInventoryData && !compressedAirInventoryData.isValid}">4</span>Catalog</a>
        </div> -->
        <div class="fixed-tab-size"
            [ngClass]="{'active': setupTab == 'compressed-air-catalog' && compressedAirInventoryData}"
            (click)="setSetupTab('compressed-air-catalog')">
            <a><span class="step-number"
                    [ngClass]="{'missing-data-tab': compressedAirInventoryData}">4</span>Catalog</a>
        </div>
        <div class="fixed-tab-size" [ngClass]="{'active': setupTab == 'end-uses'}" (click)="setSetupTab('end-uses')">
            <a><span class="step-number">5</span>End Uses</a>
        </div>
    </div>
    <div class="d-lg-none d-flex tabs subtabs progress-tabs flex-wrap compressedAir-inventory">
        <ul
            class="pagination d-flex justify-content-between tabs compressed-air-inventory subtabs progress-tabs flex-fill">
            <li class="page-item" [ngClass]="{'disabled': setupTab == 'plant-setup'}">
                <a class="nav-link small" (click)="backSetupTabs()" [ngClass]="{'disabled': setupTab == 'plant-setup'}">
                    <span class="fa fa-chevron-left"></span></a>
            </li>
            <li *ngIf="setupTab == 'plant-setup'" class="fixed-tab-size"
                [ngClass]="{'active': setupTab == 'plant-setup'}" (click)="setSetupTab('plant-setup')">
                <a><span class="step-number">1</span>Plant Setup</a>
            </li>
            <li *ngIf="setupTab == 'system-setup'" class="fixed-tab-size"
                [ngClass]="{'active': setupTab == 'system-setup'}" (click)="setSetupTab('system-setup')">
                <a><span class="step-number">2</span>System Setup</a>
            </li>
            <li *ngIf="setupTab == 'compressor-properties'" class="fixed-tab-size"
                [ngClass]="{'active': setupTab == 'compressor-properties'}"
                (click)="setSetupTab('compressor-properties')">
                <a><span class="step-number">3</span>Compressor Properties</a>
            </li>
            <li *ngIf="setupTab == 'compressed-air-catalog'" class="fixed-tab-size"
                [ngClass]="{'active': setupTab == 'compressed-air-catalog'}"
                (click)="setSetupTab('compressed-air-catalog')">
                <a><span class="step-number">4</span>Catalog</a>
            </li>
            <li *ngIf="setupTab == 'end-uses'" class="fixed-tab-size"
                [ngClass]="{'active': setupTab == 'end-uses'}"
                (click)="setSetupTab('end-uses')">
                <a><span class="step-number">5</span>End Uses</a>
            </li>
            <li class="page-item" [ngClass]="{'disabled': setupTab == 'end-uses'}">
                <a class="nav-link small" (click)="continueSetupTabs()"
                    [ngClass]="{'disabled': setupTab == 'end-uses'}">
                    <span class="fa fa-chevron-right"></span></a>
            </li>
        </ul>
    </div>
</nav>

<nav class="hide-print" *ngIf="setupTab == 'compressed-air-catalog' && mainTab == 'setup'">
    <div class="d-lg-flex d-none tabs subtabs progress-tabs flex-wrap compressed-air-inventory">
        <!-- <div *ngFor="let department of compressedAirInventoryData.departments"
            [ngClass]="{'active': selectedDepartmentId == department.id}" (click)="selectedDepartment(department.id)">
            <a>{{department.name}}
                <span class="badge gray-badge" [ngClass]="{'missing-data': !department.isValid}">
                    <strong>{{department.catalog.length}}</strong>
                </span>

            </a>
        </div> -->
    </div>
    <div class="d-flex d-lg-none tabs subtabs progress-tabs flex-wrap compressed-air-inventory">
        <!-- <ul
            class="pagination d-flex justify-content-between tabs compressed-air-inventory subtabs progress-tabs flex-fill">
            <li class="page-item"
                [ngClass]="{'disabled': selectedDepartmentId == compressedAirInventoryData.departments[0].id}">
                <a class="nav-link small" (click)="backCompressedAirCatalogTabs()"
                    [ngClass]="{'disabled': selectedDepartmentId == compressedAirInventoryData.departments[0].id}">
                    <span class="fa fa-chevron-left"></span></a>
            </li> 
           <ng-container *ngFor="let department of compressedAirInventoryData.departments">
                <li *ngIf="selectedDepartmentId == department.id"
                    [ngClass]="{'active': selectedDepartmentId == department.id}"
                    (click)="selectedDepartment(department.id)">
                    <a>{{department.name}}
                        <span class="badge gray-badge">
                            <strong>{{department.catalog.length}}</strong>
                        </span>
                    </a>
                </li>
            </ng-container>
            <li class="page-item"
                [ngClass]="{'disabled': selectedDepartmentId == compressedAirInventoryData.departments[compressedAirInventoryData.departments.length - 1].id}">
                <a class="nav-link small" (click)="continueCompressedAirCatalogTabs()"
                    [ngClass]="{'disabled': selectedDepartmentId == compressedAirInventoryData.departments[compressedAirInventoryData.departments.length - 1].id}">
                    <span class="fa fa-chevron-right"></span></a>
            </li>
        </ul> -->
    </div>
</nav>
<!-- 
<app-summary-filter *ngIf="mainTab == 'summary' || mainTab == 'analysis'"></app-summary-filter> -->

<nav class="hide-print" *ngIf="mainTab == 'summary'">
    <div class="d-lg-flex d-none tabs subtabs progress-tabs flex-wrap compressed-air-inventory">
        <div class="fixed-tab-size" [ngClass]="{'active': summaryTab == 'overview'}"
            (click)="setSummaryTab('overview')">
            <a>Overview</a>
        </div>
        <div class="fixed-tab-size" [ngClass]="{'active': summaryTab == 'graphs'}" (click)="setSummaryTab('graphs')">
            <a>Graphs</a>
        </div>
        <div class="fixed-tab-size" [ngClass]="{'active': summaryTab == 'table'}" (click)="setSummaryTab('table')">
            <a>Table</a>
        </div>
    </div>

    <div class="d-flex d-lg-none tabs subtabs progress-tabs flex-wrap compressed-air-inventory">
        <ul
            class="pagination d-flex justify-content-between tabs compressed-air-inventory subtabs progress-tabs flex-fill">
            <li class="page-item" [ngClass]="{'disabled': summaryTab == 'overview'}">
                <a class="nav-link small" (click)="backSummaryTabs()"
                    [ngClass]="{'disabled': summaryTab == 'overview'}">
                    <span class="fa fa-chevron-left"></span></a>
            </li>
            <li class="page-item" [ngClass]="{'active': summaryTab == 'overview'}" (click)="setSummaryTab('overview')"
                *ngIf="summaryTab == 'overview'">
                <a class="nav-link small">Overview</a>
            </li>
            <li class="page-item" [ngClass]="{'active': summaryTab == 'graphs'}" (click)="setSummaryTab('graphs')"
                *ngIf="summaryTab == 'graphs'">
                <a class="nav-link small">Graphs</a>
            </li>
            <li class="page-item" [ngClass]="{'active': summaryTab == 'table'}" (click)="setSummaryTab('table')"
                *ngIf="summaryTab == 'table'">
                <a class="nav-link small">Table</a>
            </li>
            <li class="page-item" [ngClass]="{'disabled': summaryTab == 'table'}">
                <a class="nav-link small" (click)="continueSummaryTabs()"
                    [ngClass]="{'disabled': summaryTab == 'table'}">
                    <span class="fa fa-chevron-right"></span></a>
            </li>
        </ul>
    </div>
    <div class="alert alert-info d-lg-none p-1 m-1 small">
        This page is optimized to be viewed on a tablet-sized device or larger.
    </div>

</nav>