<div class="row justify-content-center">
  <div class="col-lg-4 col-md-6">
    <div class="row justify-content-center btn-toggle">
      <div class="btn-group btn-group-sm align-self-center">
        <button type="button" class="btn btn-secondary btn-sm" (click)="setDataOption('cost')" [ngClass]="{'active': dataOption == 'cost'}">Cost</button>
        <button type="button" class="btn btn-secondary btn-sm" (click)="setDataOption('energy')" [ngClass]="{'active': dataOption == 'energy'}">Energy Used</button>
      </div>
    </div>
    <div style="display: block" *ngIf="pieChartData">
      <canvas baseChart [colors]="chartColors" [data]="pieChartData" [labels]="pieChartLabels" [chartType]="'pie'" [options]="options"></canvas>
    </div>
  </div>
  <div class="col-lg-8 col-md-11 output-summary">
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th>
            Furnace Name
          </th>
          <!-- <th>
            Energy Use Units
          </th> -->
          <th>
            Fuel Energy Used<br>
            ({{settings.phastRollupUnit}}/yr)
          </th>
          <th>
            Annual Cost<br>
            ($/yr)
          </th>
          <th>
            Electrical Energy Use<br>
            ({{settings.phastRollupUnit}}/yr)
          </th>
          <th>
            Annual Cost<br>
            ($/yr)
          </th>
          <th>
            Steam Energy Use<br>
            ({{settings.phastRollupUnit}}/yr)
          </th>
          <th>
            Annual Cost<br>
            ($/yr)
          </th>
          <th>
            Total Annual Cost<br>
            ($/yr)
          </th>
          <th>
            % of Total Cost
          </th>
          <th>
            % of Total Energy Used
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of resultData; let index=index;">
          <td class="name" [ngStyle]="{'border-left-color': graphColors[index]}">
            {{data.name}}
          </td>
          <!-- <td>
            {{settings.phastRollupUnit}}/yr
          </td> -->
          <td *ngIf="data.settings.energySourceType == 'Fuel'">
            {{getConvertedValue(data.baselineResults.annualEnergyUsed, data.settings) | sigFigs:'5'}}
          </td>
          <td *ngIf="data.settings.energySourceType == 'Fuel'">
            ${{data.baselineResults.annualCost | sigFigs:'4'}}
          </td>
          <td *ngIf="data.settings.energySourceType != 'Fuel'">&mdash;</td>
          <td *ngIf="data.settings.energySourceType != 'Fuel'">&mdash;</td>
          <td *ngIf="data.settings.energySourceType == 'Electricity'">
            {{getConvertedValue(data.baselineResults.annualEnergyUsed, data.settings) | sigFigs:'5'}}
          </td>
          <td *ngIf="data.settings.energySourceType == 'Electricity'">
              ${{data.baselineResults.annualCost | sigFigs:'4'}}
          </td>
          <td *ngIf="data.settings.energySourceType != 'Electricity'">&mdash;</td>
          <td *ngIf="data.settings.energySourceType != 'Electricity'">&mdash;</td>

          <td *ngIf="data.settings.energySourceType == 'Steam'">
            {{getConvertedValue(data.baselineResults.annualEnergyUsed, data.settings) | sigFigs:'5'}}
          </td>
          <td *ngIf="data.settings.energySourceType == 'Steam'">
              ${{data.baselineResults.annualCost | sigFigs:'4'}}
          </td>
          <td *ngIf="data.settings.energySourceType != 'Steam'">&mdash;</td>
          <td *ngIf="data.settings.energySourceType != 'Steam'">&mdash;</td>
          <td>{{data.baselineResults.annualCost | sigFigs:'4'}}</td>
          <td>{{getResultPercent(data.baselineResults.annualCost, totalCost) | number:'1.0-1'}}</td>
          <td>{{getConvertedPercent(data.baselineResults.annualEnergyUsed, totalEnergy, data.settings) | number:'1.0-1'}}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td>
            Totals
          </td>
          <!-- <td>{{settings.phastRollupUnit}}/yr</td> -->
          <td>{{totalFuelEnergyUsed | sigFigs:'5'}}</td>
          <td>${{totalFuelCost | sigFigs:'4'}}</td>
          <td>{{totalElectricalEnergyUsed | sigFigs:'5'}}</td>
          <td>${{totalElectricalCost | sigFigs:'4'}}</td>
          <td>{{totalSteamEnergyUsed | sigFigs:'5'}}</td>
          <td>${{totalSteamCost | sigFigs:'4'}}</td>
          <td>${{totalCost | sigFigs:'4'}}</td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>